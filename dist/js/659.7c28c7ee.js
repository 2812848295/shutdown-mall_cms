"use strict";(self["webpackChunktyp_backstage"]=self["webpackChunktyp_backstage"]||[]).push([[659],{99217:function(e,l,a){a.d(l,{Z:function(){return h}});var t=a(66252);const n={class:"page-modal"},o={class:"dialog-footer"},i=(0,t.Uk)("取 消"),d=(0,t.Uk)("确 定");function r(e,l,a,r,s,p){const u=(0,t.up)("hy-form"),c=(0,t.up)("el-button"),f=(0,t.up)("el-dialog");return(0,t.wg)(),(0,t.iD)("div",n,[(0,t.Wm)(f,{title:e.modalConfig.title,modelValue:e.dialogVisible,"onUpdate:modelValue":l[2]||(l[2]=l=>e.dialogVisible=l),width:"30%",center:"","destroy-on-close":""},{footer:(0,t.w5)((()=>[(0,t._)("span",o,[(0,t.Wm)(c,{onClick:l[1]||(l[1]=l=>e.dialogVisible=!1)},{default:(0,t.w5)((()=>[i])),_:1}),(0,t.Wm)(c,{type:"primary",onClick:e.handleConfirmClick},{default:(0,t.w5)((()=>[d])),_:1},8,["onClick"])])])),default:(0,t.w5)((()=>[(0,t.Wm)(u,(0,t.dG)(e.modalConfig,{modelValue:e.formData,"onUpdate:modelValue":l[0]||(l[0]=l=>e.formData=l)}),null,16,["modelValue"]),(0,t.WI)(e.$slots,"default")])),_:3},8,["title","modelValue"])])}var s=a(2262),p=a(49409),u=a(22626),c=(0,t.aZ)({components:{HyForm:u.Z},props:{modalConfig:{type:Object,required:!0},defaultInfo:{type:Object,default:()=>({})},otherInfo:{type:Object,default:()=>({})},pageName:{type:String,required:!0}},setup(e){const l=(0,p.oR)(),a={},n=(0,s.iH)({...a});(0,t.YP)((()=>e.defaultInfo),(l=>{for(const a of e.modalConfig.formItems)n.value[`${a.field}`]=l[`${a.field}`]}));const o=(0,s.iH)(!1),i=()=>{o.value=!1,Object.keys(e.defaultInfo).length?l.dispatch("system/editPageDataAction",{pageName:e.pageName,queryInfo:{...n.value,...e.otherInfo},id:e.defaultInfo.id}):l.dispatch("system/newPageDataAction",{pageName:e.pageName,queryInfo:{...n.value,...e.otherInfo}})};return{formData:n,dialogVisible:o,handleConfirmClick:i}}}),f=a(83744);const m=(0,f.Z)(c,[["render",r]]);var g=m,h=g},27680:function(e,l,a){a.d(l,{S:function(){return n}});var t=a(2262);const n=(e,l)=>{const a=(0,t.iH)({}),n=(0,t.iH)(),o=()=>{a.value={},n.value&&(n.value.dialogVisible=!0),e&&e()},i=e=>{a.value={...e},n.value&&(n.value.dialogVisible=!0),l&&l(e)};return[a,n,o,i]}},66464:function(e,l,a){a.r(l),a.d(l,{default:function(){return C}});var t=a(66252);const n={class:"user"};function o(e,l,a,o,i,d){const r=(0,t.up)("page-search"),s=(0,t.up)("page-content"),p=(0,t.up)("page-modal");return(0,t.wg)(),(0,t.iD)("div",n,[(0,t.Wm)(r,{searchConfig:e.searchFormConfig,onQueryBtnClick:e.handleQueryClick,onResetBtnClick:e.handleResetClick},null,8,["searchConfig","onQueryBtnClick","onResetBtnClick"]),(0,t.Wm)(s,{ref:"pageContentRef",contentConfig:e.contentTableConfig,pageName:"users",onNewBtnClick:e.handleNewData,onEditBtnClick:e.handleEditData},null,8,["contentConfig","onNewBtnClick","onEditBtnClick"]),(0,t.Wm)(p,{ref:"pageModalRef",pageName:"users",modalConfig:e.modalConfigRef,defaultInfo:e.modalInfo},null,8,["modalConfig","defaultInfo"])])}var i=a(49409),d=a(65331),r=a(50005),s=a(99217),p=a(53671),u=a(27680);const c={formItems:[{field:"name",type:"input",label:"用户名",placeHolder:"请输入用户名",rules:[]},{field:"realname",type:"input",label:"真实姓名",placeHolder:"请输入真实姓名",rules:[]},{field:"cellphone",type:"input",label:"手机号码",placeHolder:"请输入手机号码",rules:[]},{field:"enable",type:"select",label:"状态",placeHolder:"请选择状态",rules:[],options:[{label:"启用",value:1},{label:"禁用",value:0}]},{field:"createAt",type:"datepicker",label:"创建时间",rules:[],otherOption:{startPlaceholder:"开始时间",endPlaceholder:"结束时间",type:"daterange"}}],labelWidth:"100px",itemStyle:{padding:"10px 40px"},colLayout:{span:8}},f={title:"用户列表",propList:[{prop:"name",label:"用户名",minWidth:"100"},{prop:"realname",label:"真实名",minWidth:"120"},{prop:"cellphone",label:"手机号码",minWidth:"150"},{prop:"enable",label:"状态",minWidth:"100",slotName:"status"},{prop:"createAt",label:"创建时间",minWidth:"250",slotName:"create"},{prop:"updateAt",label:"更新时间",minWidth:"250",slotName:"update"},{label:"操作",minWidth:"120",slotName:"handler"}],showIndexColumn:!0,showSelectColumn:!0},m={title:"新建用户",formItems:[{field:"name",type:"input",label:"用户名",placeHolder:"请输入用户名"},{field:"realname",type:"input",label:"真实姓名",placeHolder:"请输入真实姓名",rules:[{required:!0}]},{field:"password",type:"password",label:"密码",placeHolder:"请输入密码",isHidden:!1},{field:"cellphone",type:"input",label:"电话号码",placeHolder:"请输入电话号码"},{field:"roleId",type:"select",label:"选择角色",placeHolder:"请选择角色",options:[]},{field:"departmentId",type:"select",label:"选择部门",placeHolder:"请选择部门",options:[]}],colLayout:{span:24},itemStyle:{padding:0}};var g=(0,t.aZ)({name:"user",components:{PageSearch:d.Z,PageContent:r.Z,PageModal:s.Z},setup(){const[e,l,a]=(0,p.Y)(),n=(0,i.oR)(),o=(0,t.Fl)((()=>{const e=m.formItems?.find((e=>"roleId"===e.field));e.options=n.state.entireRoles.map((e=>({label:e.name,value:e.id})));const l=m.formItems?.find((e=>"departmentId"===e.field));return l.options=n.state.entireDepartments.map((e=>({label:e.name,value:e.id}))),m})),d=()=>{const e=o.value.formItems?.find((e=>"password"===e.field));e.isHidden=!1},r=()=>{const e=o.value.formItems?.find((e=>"password"===e.field));e.isHidden=!0},[s,g,h,b]=(0,u.S)(d,r);return{searchFormConfig:c,contentTableConfig:f,handleQueryClick:l,handleResetClick:a,pageContentRef:e,handleNewData:h,handleEditData:b,pageModalRef:g,modalConfigRef:o,modalInfo:s}}}),h=a(83744);const b=(0,h.Z)(g,[["render",o]]);var C=b}}]);
//# sourceMappingURL=659.7c28c7ee.js.map