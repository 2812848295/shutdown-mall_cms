"use strict";(self["webpackChunktyp_backstage"]=self["webpackChunktyp_backstage"]||[]).push([[261],{99217:function(e,a,t){t.d(a,{Z:function(){return h}});var l=t(66252);const n={class:"page-modal"},o={class:"dialog-footer"},i=(0,l.Uk)("取 消"),d=(0,l.Uk)("确 定");function r(e,a,t,r,p,f){const u=(0,l.up)("hy-form"),c=(0,l.up)("el-button"),m=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.iD)("div",n,[(0,l.Wm)(m,{title:e.modalConfig.title,modelValue:e.dialogVisible,"onUpdate:modelValue":a[2]||(a[2]=a=>e.dialogVisible=a),width:"30%",center:"","destroy-on-close":""},{footer:(0,l.w5)((()=>[(0,l._)("span",o,[(0,l.Wm)(c,{onClick:a[1]||(a[1]=a=>e.dialogVisible=!1)},{default:(0,l.w5)((()=>[i])),_:1}),(0,l.Wm)(c,{type:"primary",onClick:e.handleConfirmClick},{default:(0,l.w5)((()=>[d])),_:1},8,["onClick"])])])),default:(0,l.w5)((()=>[(0,l.Wm)(u,(0,l.dG)(e.modalConfig,{modelValue:e.formData,"onUpdate:modelValue":a[0]||(a[0]=a=>e.formData=a)}),null,16,["modelValue"]),(0,l.WI)(e.$slots,"default")])),_:3},8,["title","modelValue"])])}var p=t(2262),f=t(49409),u=t(22626),c=(0,l.aZ)({components:{HyForm:u.Z},props:{modalConfig:{type:Object,required:!0},defaultInfo:{type:Object,default:()=>({})},otherInfo:{type:Object,default:()=>({})},pageName:{type:String,required:!0}},setup(e){const a=(0,f.oR)(),t={},n=(0,p.iH)({...t});(0,l.YP)((()=>e.defaultInfo),(a=>{for(const t of e.modalConfig.formItems)n.value[`${t.field}`]=a[`${t.field}`]}));const o=(0,p.iH)(!1),i=()=>{o.value=!1,Object.keys(e.defaultInfo).length?a.dispatch("system/editPageDataAction",{pageName:e.pageName,queryInfo:{...n.value,...e.otherInfo},id:e.defaultInfo.id}):a.dispatch("system/newPageDataAction",{pageName:e.pageName,queryInfo:{...n.value,...e.otherInfo}})};return{formData:n,dialogVisible:o,handleConfirmClick:i}}}),m=t(83744);const s=(0,m.Z)(c,[["render",r]]);var g=s,h=g},27680:function(e,a,t){t.d(a,{S:function(){return n}});var l=t(2262);const n=(e,a)=>{const t=(0,l.iH)({}),n=(0,l.iH)(),o=()=>{t.value={},n.value&&(n.value.dialogVisible=!0),e&&e()},i=e=>{t.value={...e},n.value&&(n.value.dialogVisible=!0),a&&a(e)};return[t,n,o,i]}},58302:function(e,a,t){t.r(a),t.d(a,{default:function(){return b}});var l=t(66252);const n={class:"department"};function o(e,a,t,o,i,d){const r=(0,l.up)("page-search"),p=(0,l.up)("page-content"),f=(0,l.up)("page-modal");return(0,l.wg)(),(0,l.iD)("div",n,[(0,l.Wm)(r,{searchConfig:e.searchFormConfig},null,8,["searchConfig"]),(0,l.Wm)(p,{pageName:"department",ref:"pageContentRef",contentConfig:e.contentTableConfig,onNewBtnClick:e.handleNewData,onEditBtnClick:e.handleEditData},null,8,["contentConfig","onNewBtnClick","onEditBtnClick"]),(0,l.Wm)(f,{ref:"pageModalRef",defaultInfo:e.modalInfo,modalConfig:e.modalConfigRef,pageName:"department"},null,8,["defaultInfo","modalConfig"])])}var i=t(49409),d=t(65331),r=t(50005),p=t(99217),f=t(53671),u=t(27680);const c={formItems:[{field:"name",type:"input",label:"部门名称",placeHolder:"请输入部门名称",rules:[]},{field:"leader",type:"input",label:"部门领导",placeHolder:"请输入部门领导",rules:[]},{field:"createAt",type:"datepicker",label:"创建时间",rules:[],otherOption:{startPlaceholder:"开始时间",endPlaceholder:"结束时间",type:"daterange"}}],labelWidth:"100px",itemStyle:{padding:"10px 40px"},colLayout:{span:8}},m={title:"部门列表",propList:[{prop:"name",label:"部门名称",minWidth:"120"},{prop:"leader",label:"部门领导",minWidth:"120"},{prop:"parentId",label:"上级部门",minWidth:"120"},{prop:"createAt",label:"创建时间",minWidth:"250",slotName:"create"},{prop:"updateAt",label:"更新时间",minWidth:"250",slotName:"update"},{label:"操作",minWidth:"120",slotName:"handler"}],showIndexColumn:!0,showSelectColumn:!0},s={title:"新建部门",formItems:[{field:"name",type:"input",label:"部门名称",placeHolder:"请输入部门名称"},{field:"parentId",type:"select",label:"上级部门",placeHolder:"请选择上级部门",options:[]},{field:"leader",type:"input",label:"领导名称",placeHolder:"请输入领导名称"}],colLayout:{span:24},itemStyle:{padding:0}};var g=(0,l.aZ)({name:"department",components:{PageSearch:d.Z,PageContent:r.Z,PageModal:p.Z},setup(){const[e,a,t]=(0,f.Y)(),n=(0,i.oR)(),o=(0,l.Fl)((()=>{const e=s.formItems?.find((e=>"parentId"===e.field));return e.options=n.state.entireDepartments.map((e=>({label:e.name,value:e.id}))),s})),[d,r,p,g]=(0,u.S)();return{searchFormConfig:c,contentTableConfig:m,modalConfigRef:o,pageContentRef:e,handleQueryClick:a,handleResetClick:t,modalInfo:d,pageModalRef:r,handleNewData:p,handleEditData:g}}}),h=t(83744);const C=(0,h.Z)(g,[["render",o]]);var b=C}}]);
//# sourceMappingURL=261.cea5ba01.js.map